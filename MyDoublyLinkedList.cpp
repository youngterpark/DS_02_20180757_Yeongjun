#include <iostream>
#include "MyDoublyLinkedList.h"

Node* DLL_Create_Node(int newData) // 노드 생성
{
	Node* newnode = new Node; //newnode 할당
	newnode->data = newData; //입력받은 data 할당
	newnode->prev = NULL; //prev NULL
	newnode->next = NULL; //next NULL
	return newnode;
}
void DLL_Destroy_Node(Node* node) // 노드 소멸
{
	if (node != NULL) //node가 NULL이 아니면
	{
		delete node; //노드 소멸
	}
}
void DLL_Append_Node(Node** head, Node* newnode) // 노드 추가
{
	if ((*head) == NULL) //현재 헤드가 비어있으면, 새로운 노드를 헤드로 설정
	{
		*head = newnode; //헤드노드 = newNode
	}
	else // 마지막 노드 탐색
	{
		Node* tail = *head; //tail=헤드노드 로 초기화
		while (tail->next != NULL) //tail.next가 NULL이 아니면 반복
		{
			tail = tail->next; //tail의 next로 반복하며 마지막 노드 탐색
		}
		tail->next = newnode; //tail.next가 NULL이면 마지막 노드. next에 newnode 삽입
		newnode->prev = tail; //DLL에 맞게 prev에 기존 tail 연결
	}
}
Node* DLL_Get_Node(Node* head, int pos) // 노드 탐색
{
	Node* iter = head; // 찾고 싶은 노드가 나올때까지 돌릴 iter 노드에 첫 노드 넣기.
	int i = 0; // 탐색 한 번당 1씩 커지는 i
	while (pos != i) // i가 찾고싶은 위치 pos랑 같아지면 반복문 종료
	{
		iter = iter->next; // iter를 iter의 link 노드로 바꾸면서 다음 노드 탐색
		i++;
	}
	return iter; // 찾고 싶은 위치의 노드 반환
}
void DLL_Remove_Node(Node** head, Node* targetNode) // 노드 삭제
{
	if (targetNode->prev == NULL) // 헤드노드 삭제
	{
		*head = (*head)->next; // 헤드노드 바꿔주고
		if (*head != NULL) // 노드가 헤드노드 하나만 있을때, head 노드 next는 NULL 이므로
		(*head)->prev = NULL;
		DLL_Destroy_Node(targetNode);
		return;
	}
	
	else
	{
		targetNode->prev->next = targetNode->next;
		if (targetNode->next == NULL)
		{
			DLL_Destroy_Node(targetNode);
			return;
		}
		else
		{
			targetNode->next->prev = targetNode->prev;
			DLL_Destroy_Node(targetNode);
			return;
		}
	}
}
void DLL_Insert_Node_After(Node* currentNode, Node* newNode) // 노드 삽입
{
	if (currentNode->next != NULL) 
	{
		newNode->next = currentNode->next; 
		currentNode->next->prev = newNode;
		newNode->prev = currentNode;
		currentNode->next = newNode;
	}
	else 
	{
		currentNode->next = newNode;
	}
}
void DLL_Print_Linked_List(Node* head) // 이중 연결리스트 출력
{
	Node* iter = head;
	int i = 0;
	while (iter != NULL)
	{
		printf("N[%d]:%d", i, iter->data);
		iter = iter->next;
		if (iter != NULL) printf(" <-> ");
		i++;
	}
	printf("\n");
}
void DLL_Print_Linked_List_Reverse(Node* tail) // 이중 연결리스트 역순 출력
{
	Node* iter = tail;
	int i = 0;
	while (iter != NULL)
	{
		printf("N[%d]:%d", i, iter->data);
		iter = iter->prev;
		if (iter != NULL) printf(" <-> ");
		i++;
	}
	printf("\n");
}